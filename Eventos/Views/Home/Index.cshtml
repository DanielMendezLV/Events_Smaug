@section scripts {
    @Scripts.Render("~/bundles/eventos")
}

<h1>Proyecto Smaug v0.1</h1>
<div class="slide">
    <div class="slider">
        <ul class="slides">
            <li>
                <img src="/Image/move.png"> 
                <div class="caption center-align">
                    <h3>The Software Smaug</h3>
                    <h5 class="light grey-text text-lighten-3">Smaug is the Future.</h5>
                </div>
            </li>
            <li>
                <img src="/Image/mountain.png"> 
                <div class="caption left-align">
                    <h3>Smaug</h3>
                    <h5 class="light grey-text text-lighten-3">Welcome to best software.</h5>
                </div>
            </li>
        </ul>
    </div>
</div>

<h2>Eventos
    <!-- ko if: usuarioLogeado() -->
        <!-- ko if: usuarioLogeado().RolId == 1 -->
             <i data-bind="click: abrirAgregar" class="medium mdi-content-add-circle"></i>
        <!-- /ko -->
    <!-- /ko -->
    </h2>
<div class="row"> 
    
<!-- ko if:abrirNuevo() -->
    <div class="col s6">
        <div class="  card-panel  ">
            <span class="blue-grey-text">
                <h4>Agregar Evento</h4>
                <hr />
            </span>
            <div class="row">
                <form id="form-agregar-eventos" class="col s12" data-bind="submit: addEvento">
                    <div class="form-group" data-bind="with: newEvento">
                        <div class="row">
                            <div class="input-field col s12">
                                <i class="mdi-action-account-balance prefix"></i>
                                <input id="icon_prefix3" type="text" required data-bind="value:Nombre" class="validate">
                                <label for="icon_prefix3">Nombre</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <i class="mdi-maps-beenhere prefix"></i>
                                <input id="icon_prefix4" type="date" required data-bind="value:Fecha" class="validate">
                                <label for="icon_prefix4"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <i class="mdi-av-closed-caption prefix"></i>
                                <input id="icon_prefix5" type="number" step="any" min="0" required data-bind="value:EntradasDisponibles" class="validate">
                                <label for="icon_prefix5">Entradas Disponibles</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <i class="mdi-maps-local-laundry-service prefix"></i>
                                <input id="inputFile" type="file" required data-bind="value:Foto" class="validate">
                            </div>
                        </div>
                </div>
                        <div class="row">
                            <hr />
                            <label for="inputCategoriaId" class="col-sm-2 control-label"><h4>Tipos</h4></label>
                            <div class="form-group" data-bind="foreach: listaTipos">
                                <div class="col l6">
                                    <a class="waves-effect waves-light btn" data-bind="text: Nombre, click: $parent.sendTipo"><i class="mdi-file-cloud left"></i>button</a>
                                    <hr />
                                </div>
                            </div>
                            <br />
                            <!-- ko if:xTipo() -->
                            <a class="btn-floating btn-large waves-effect waves-light red" data-bind="click: pressXTipo"><i class="mdi-content-remove"></i></a>
                            <!-- /ko -->
                            <hr />
                        </div>
                    <div class="row">
                            <label for="inputCategoriaId" class="col-sm-2 control-label"><h4>Lugar</h4></label>
                            <div class="form-group" data-bind="foreach: listaLugares">
                                @*<input class="with-gap" name="group1" type="radio" id="test3" />*@
                                    <div class="col l6" >
                                        <a class="waves-effect waves-light btn actives" data-bind="text: Nombre, click: $parent.sendLugar"><i class="mdi-file-cloud left"></i>button</a>
                                        <hr />
                                    </div>
                            </div>
                            <!-- ko if:xLugar() -->
                            <br />
                            <a class="btn-floating btn-large waves-effect waves-light red" data-bind="click: pressXLugar"><i class="mdi-content-remove"></i></a>
                            <!-- /ko -->
                        <hr />
                    </div>
                    <button class="waves-effect waves-teal btn-flat" type="submit">
                        Agregar Evento
                        <i class="mdi-content-send right"></i>
                    </button>
                </form>
            </div>

        </div>
    </div>
<!-- /ko -->
<!-- ko if:edit()-->
    <div class="col s6">
        <div class="  card-panel  ">
            <span class="blue-grey-text">
                <h4>Editar Evento</h4>
                <hr />
            </span>
            <div class="row">
                <form id="form-agregar-eventos" class="col s12" data-bind="submit: editEvento">
                        <div class="row">
                            <div class="input-field col s12">
                                <i class="mdi-action-account-balance prefix"></i>
                                <input id="icon_prefix3" type="text"  data-bind="textinput:edit().Nombre" class="validate">
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <i class="mdi-maps-beenhere prefix"></i>
                                <input id="icon_prefix4" type="text"  data-bind="textinput:edit().Fecha" disabled class="validate">
                                <label for="icon_prefix4"></label>
                            </div>
                        </div>
                        
                    <div class="row">
                        <div class="input-field col s12">
                            <i class="mdi-maps-beenhere prefix"></i>
                            <input id="icon_prefix4" type="date"  data-bind="value:edit().Fecha"  class="validate">
                        </div>
                    </div>

                        <div class="row">
                            <div class="input-field col s12">
                                <i class="mdi-av-closed-caption prefix"></i>
                                <input id="icon_prefix5" type="number" step="any" min="0" required data-bind="textinput:edit().EntradasDisponibles" class="validate">
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <i class="mdi-maps-local-laundry-service prefix"></i>
                                <input id="inputFileEdit" type="file"  data-bind="value: editEventoFoto" class="validate">
                            </div>
                        </div>
                    <div class="row">
                        <hr />
                        <label for="inputCategoriaId" class="col-sm-2 control-label">Tipos</label>
                        <div class="form-group" data-bind="foreach: listaTiposEdit">

                            <a class="waves-effect waves-light btn" data-bind="text: Nombre, click: $parent.sendTipoEdit"><i class="mdi-file-cloud left"></i>button</a>


                        </div>
                        <br />
                        <!-- ko if:xTipoEdit() -->
                        <a class="btn-floating btn-large waves-effect waves-light red" data-bind="click: pressXTipoEdit"><i class="mdi-content-remove"></i></a>
                        <!-- /ko -->
                        <hr />
                    </div>
                    <div class="row">
                        <label for="inputCategoriaId" class="col-sm-2 control-label">Lugar</label>
                        <div class="form-group" data-bind="foreach: listaLugaresEdit">
                            @*<input class="with-gap" name="group1" type="radio" id="test3" />*@
                            <a class="waves-effect waves-light btn actives" data-bind="text: Nombre, click: $parent.sendLugarEdit"><i class="mdi-file-cloud left"></i>button</a>
                        </div>
                        <!-- ko if:xLugarEdit() -->
                        <br />
                        <a class="btn-floating btn-large waves-effect waves-light red" data-bind="click: pressXLugarEdit"><i class="mdi-content-remove"></i></a>
                        <!-- /ko -->
                        <hr />
                    </div>
                    <button class="waves-effect waves-teal btn-flat" type="submit">
                        Editar Evento
                        <i class="mdi-content-send right"></i>
                    </button>
                </form>
            </div>

        </div>
    </div>
    
 <!-- /ko-->

<!-- ko if: usuarioLogeado() -->
    <!-- ko if: usuarioLogeado().RolId == 1 -->
    <div class="row" data-bind="foreach: listaEventos">
        <div class="col s6">
            <div class="medium card">
                <div class="card-image waves-effect waves-block waves-light">
                    <a href="#" data-bind="click: $parent.getEventoDetail">
                        <img class="activator" data-bind="attr:{src: '../Imagenes/' + Foto}" style="cursor: pointer">
                    </a>
                </div>
                <div class="card-content">
                    <span class="card-title activator grey-text text-darken-4" data-bind="text: Nombre"></span>
                    <br />
                    <b>Fecha Enventos: <span data-bind="text: Fecha"> </span></b>
                </div>
                <div class="card-reveal">                    
                    <span class="card-title grey-text text-darken-4" data-bind="text: Nombre"><i class="mdi-navigation-close right"></i></span>
                    <hr />
                    <b><h5>Detalles: </h5></b>
                    <b>Entradas Disponibles: <span data-bind="text: EntradasDisponibles"></span></b>
                    <hr />

                    <a data-bind="click: $parent.getEventoDelete">
                        <i class="medium mdi-action-delete"></i>  <h6>Delete</h6>
                    </a>
                    <hr />
                    <a href="#" data-bind="click: $parent.getEventoEditar"><i class="medium mdi-action-system-update-tv"></i> <h6>Update</h6></a>
                </div>
            </div>
        </div>
    </div>
    <!-- /ko -->
<!-- /ko -->

   <!-- ko if: !usuarioLogeado() -->
<div class="row" data-bind="foreach: listaEventos">
    <div class="col s6">
        <div class="medium card">
            <div class="card-image waves-effect waves-block waves-light">
                <a href="#" data-bind="click: $parent.getEventoDetail">
                    <img class="activator" data-bind="attr:{src: '../Imagenes/' + Foto}" style="cursor: pointer">
                </a>
            </div>
            <div class="card-content">
                <span class="card-title activator grey-text text-darken-4" data-bind="text: Nombre"></span>
                <br />
                <b>Fecha Enventos: <span data-bind="text: Fecha"> </span></b>
            </div>
            <div class="card-reveal">
                <span class="card-title grey-text text-darken-4" data-bind="text: Nombre"><i class="mdi-navigation-close right"></i></span>
                <hr />
                <b><h5>Detalles: </h5></b>
                <b>Entradas Disponibles: <span data-bind="text: EntradasDisponibles"></span></b>
                <hr />

            </div>
        </div>
    </div>
</div>
<!-- /ko -->

    <!-- ko if: usuarioLogeado() -->
    <!-- ko if: usuarioLogeado().RolId == 2 -->
    <div class="row" data-bind="foreach: listaEventos">
        <div class="col s6">
            <div class="medium card">
                <div class="card-image waves-effect waves-block waves-light">
                    <a href="#" data-bind="click: $parent.getEventoDetail">
                        <img class="activator" data-bind="attr:{src: '../Imagenes/' + Foto}" style="cursor: pointer">
                    </a>
                </div>
                <div class="card-content">
                    <span class="card-title activator grey-text text-darken-4" data-bind="text: Nombre"></span>
                    <br />
                    <b>Fecha Enventos: <span data-bind="text: Fecha"> </span></b>
                </div>
                <div class="card-reveal">
                    <span class="card-title grey-text text-darken-4" data-bind="text: Nombre"><i class="mdi-navigation-close right"></i></span>
                    <hr />
                    <b><h5>Detalles: </h5></b>
                    <b>Entradas Disponibles: <span data-bind="text: EntradasDisponibles"></span></b>
                    <hr />

                </div>
            </div>
        </div>
    </div>
    <!-- /ko -->
    <!-- /ko -->



<!-- ko if:detail() -->
    <div class="row">
        <div class="col s12 m5">
            <div class="card-panel ">

                <br />
                <b>Lugar : <span data-bind="text: detailLugar().Nombre"></span></b>
                <br />
                <b>Tipo de Evento: <span data-bind="text: detailTipo().Nombre"></span> </b>
            </div>
        </div>
    </div>
<!-- /ko -->

                                
